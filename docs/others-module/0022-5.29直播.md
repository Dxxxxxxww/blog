## 跨标签通信

场景：iframe。大型前端应用，可能切多个 tab 也来进行操作。需要预览功能的文本编辑器啊。多个标签之间写作啊等等

## dom 树与事件模型

事件模型
在 js 里面，事件的绑定方式被称为事件模型。js 的事件模型是一种**观察者模式/发布订阅模式**的体现。当对应的事件被触发的时候，监听该事件的所有监听函数会被调用。

eventbus

小程序、安卓、ios 其实也都是类似的，基本上 ui 事件模型，都会是这种捕获，冒泡的方式。

react 的事件模型就是利用冒泡，在根节点做处理。

addEventListener 设置事件在捕获阶段触发的好处，可以阻止冒泡，可以看下 antd 的源码，里面做了很多阻止冒泡的事情。

为什么要经过虚拟 DOM，而不直接操作 DOM 呢？

1. 跨端成本较低；
2. 基于安全性，避免 xss。在 vue 中使用 v-html，react 的 dangerxxx 的那个就不能避免 xss；
3. 虚拟 DOM，为了避免频繁操作 DOM（很繁琐），做的一个优化；（在当下看起来不是那么有用了）。

no dom diff -> solid.js，svelte

不需要 vnode 来做 diff。通过数据响应式来做，如果数据更新，就表示组件需要更新，就直接更新组件。

react 性能优化，加缓存，避免组件/页面重新渲染，避免做 diff。

nativescript，不要去用，已经 GG 了的技术。

跨端技术选型，如果跟 js 强关联用 rn（rn 现在也快 gg 了），不强关联用 flutter（内部也有相当于 vnode 的东西），其实还是原生最好。
